#+title: Orgbabeltesting

* testing
:PROPERTIES:
:header-args: :results output :python "./python" :async t :session testing
:END:

#+begin_src python
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
#+end_src

#+RESULTS:
: Cell Timer:  0:00:00.555547

Mixing text and plots!

#+begin_src python :results drawer
print("look!")
for i in range(2,5):
        print(i)
        df = pd.DataFrame({"x": range(5, i + 5), "y": range(5, i + 5)})
        df.plot(x="x", y="y", kind="line")
        plt.show()
print("the next plot!")
df = sns.load_dataset("iris")
sns.scatterplot(data=df, x="sepal_length", y="sepal_width", hue="species")
plt.show()
print("tada!")
#+end_src

#+RESULTS:
:results:
look!
2
[[file:plots/orgbabeltesting/plot_20240728_124027_7663432.png]]
3
[[file:plots/orgbabeltesting/plot_20240728_124027_1423741.png]]
4
[[file:plots/orgbabeltesting/plot_20240728_124027_2717263.png]]
the next plot!
[[file:plots/orgbabeltesting/plot_20240728_124027_5661842.png]]
tada!
___________________________
Cell Timer:  0:00:00.163701
:end:

Handling errors!

#+begin_src python :results drawer
print("look!")
df = pd.DataFrame({"x": [1, 2, 3, 4, 5,6,7,], "y": [10, 11, 12, 13, 14,15,16]})
print(df)
df.plot(x="x", y="y", kind="line")
plt.show()
# print(1/0)
print("tada!")
#+end_src

#+RESULTS:
:results:
look!
Traceback (most recent call last):
File "<org babel source block>", line 9, in <module>
File "<org babel source block>", line 2, in <module>
NameError: name 'pd' is not defined
Cell Timer:  0:00:00.580385
:end:


#+begin_src python :results drawer
import pandas as pd
from matplotlib import pyplot as plt

data = {
'Name': ['Alice', 'Bob', 'Charlie', 'David', 'Eva'],
'Age': [25, 30, 35, 28, 22],
'City': ['New York', 'San Francisco', 'London', 'Paris', 'Tokyo'],
'Score': [92.5, 88.0, 95.2, 78.9, 90.1]
}
df = pd.DataFrame(data)

print(df)
print("hello")
print(df.Name)
df[["Score"]].plot()
plt.show()

print(df.set_index("Name"))
#+end_src

#+RESULTS:
:results:
| idx | Name    | Age | City          | Score |
|-----+---------+-----+---------------+-------|
|   0 | Alice   |  25 | New York      |  92.5 |
|   1 | Bob     |  30 | San Francisco |  88.0 |
|   2 | Charlie |  35 | London        |  95.2 |
|   3 | David   |  28 | Paris         |  78.9 |
|   4 | Eva     |  22 | Tokyo         |  90.1 |
hello
| idx  |Name |
|------------|
| 0|Alice |
| 1|Bob |
| 2|Charlie |
| 3|David |
| 4|Eva |
[[file:plots/orgbabeltesting/plot_20240918_204903_4159689.png]]
| Name    | Age | City          | Score |
|---------+-----+---------------+-------|
| Alice   |  25 | New York      |  92.5 |
| Bob     |  30 | San Francisco |  88.0 |
| Charlie |  35 | London        |  95.2 |
| David   |  28 | Paris         |  78.9 |
| Eva     |  22 | Tokyo         |  90.1 |
Cell Timer:  0:00:00.094709
:end:
